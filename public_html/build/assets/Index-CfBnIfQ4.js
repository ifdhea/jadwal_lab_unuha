import{r as n,u as v,j as e,H as b,L as j,a as N}from"./app-BsRi02Wf.js";import{A}from"./app-layout-CdBpmueg.js";import{B as d}from"./button-4wnz9Zqb.js";import{T as D,a as w,b as c,c as r,d as T,e as i}from"./table-DRM6CSbC.js";import{B as C}from"./badge-C_t0DFeo.js";import{P as k,A as y,a as B,b as H,c as P,d as S,e as U,f as z,g as E}from"./alert-dialog-DjuTxtoT.js";import{C as p}from"./circle-check-DQIK-M0p.js";import{P as I}from"./plus-N0VNghkl.js";import{T as L}from"./trash-2-DHkJLRzk.js";/* empty css            */import"./utils-Cuk0kyiu.js";import"./activity-feed-button-BJ1WYF4g.js";import"./index-CZi-UQ4q.js";import"./index-C0N98Kzt.js";import"./user-menu-content-CaD6Lgdg.js";import"./index-D-s97nNy.js";import"./clock-CX7qgJh_.js";import"./building-2-QMJfTkD6.js";import"./calendar-DXPEKcan.js";import"./users-ezrJfIw7.js";function le({users:o,breadcrumbs:u}){const[l,t]=n.useState(null),{flash:a}=v().props,[m,x]=n.useState(!1);n.useEffect(()=>{(a.success||a.error)&&(x(!0),setTimeout(()=>x(!1),3e3))},[a]);const f=()=>{l&&N.delete(`/users/${l}`,{onSuccess:()=>t(null)})},g=s=>{const h={super_admin:{label:"Super Admin",variant:"default"},admin:{label:"Admin",variant:"secondary"},dosen:{label:"Dosen",variant:"success"}}[s]||{label:s,variant:"outline"};return e.jsx(C,{variant:h.variant,children:h.label})};return e.jsxs(A,{breadcrumbs:u,children:[e.jsx(b,{title:"User"}),m&&a.success&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top",children:e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-green-500 px-6 py-3 text-white shadow-lg",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsx("span",{children:a.success})]})}),m&&a.error&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top",children:e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-red-500 px-6 py-3 text-white shadow-lg",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsx("span",{children:a.error})]})}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"User"}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola data user sistem."})]}),e.jsx(d,{asChild:!0,children:e.jsxs(j,{href:"/users/create",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Tambah User"]})})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(D,{children:[e.jsx(w,{children:e.jsxs(c,{children:[e.jsx(r,{children:"Nama"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Peran"}),e.jsx(r,{children:"Dibuat"}),e.jsx(r,{className:"text-right",children:"Aksi"})]})}),e.jsx(T,{children:o.length===0?e.jsx(c,{children:e.jsx(i,{colSpan:5,className:"text-center text-muted-foreground",children:"Belum ada data user"})}):o.map(s=>e.jsxs(c,{children:[e.jsx(i,{className:"font-medium",children:s.name}),e.jsx(i,{children:s.email}),e.jsx(i,{children:g(s.peran)}),e.jsx(i,{children:new Date(s.created_at).toLocaleDateString("id-ID")}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(d,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(j,{href:`/users/${s.id}/edit`,children:e.jsx(k,{className:"h-4 w-4"})})}),e.jsx(d,{variant:"destructive",size:"sm",onClick:()=>t(s.id),children:e.jsx(L,{className:"h-4 w-4"})})]})})]},s.id))})]})})]})}),e.jsx(y,{open:l!==null,onOpenChange:()=>t(null),children:e.jsxs(B,{children:[e.jsxs(H,{children:[e.jsx(P,{children:"Hapus User?"}),e.jsx(S,{children:"Aksi ini tidak dapat dibatalkan. User ini akan dihapus secara permanen dari sistem."})]}),e.jsxs(U,{children:[e.jsx(z,{children:"Batal"}),e.jsx(E,{onClick:f,children:"Hapus"})]})]})})]})}export{le as default};
